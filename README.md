# cnxOne
Take home Assignment from connexOne


# Installation
The project is generated using express-generator. Node16.20.1 is being used.

If similar version is being used you can use npm to install the dependencies 

`npm install`

and run the code using the below command 

`npm start`

If not using the same version, Docker is recommended to run the program. Following commands will help with building and running the image (using Makefile)
Use sudo if the user doesnot have docker ownership/access. This has been tested on Ubuntu. 

`make start` <-- builds the image and runs the program, at port 3000

`make build` <-- builds the image 

`make run`   <-- runs the docker image at port 3000


# APIs 
`/get `      <-- gives json object that has epoch variable name and timestamp as value

`/metrics`   <-- metrics generated by prometheus


# Dependency Injection
For such a small use case, it may look like an overkill but its a good way to code, especially if testing is a vital part of the development.
DI makes testing easier as you can mock layers in an easier way. 


## app.js 
THis is where the framework is setup and the routes are declared. 

## middleware
This is where authorization is checked. 

## routes
All Declared routes are present here, and mapped with the corresponding handler. 

## handler 
This is where the requests are validated. Also known as RouteHandler. 

## services
This is where the logic of the code is usually written. This is also the layer that usually interacts with the database layer/ 3rd party packages. 

## di 
This is where we initiate the objects of handlers and services. As a project gets bigger, container packages like awilix can be used for dependency injection and management 

## screenshots 
I have shared screenshots for the base cases. These cases are 
1. Get request without authorization header 
2. Get request with incorrect authorization header value 
3. Get request with correct authorization value for /time endpoint 
4. Get request with correct authorization value for /metrics endpoint


## future addons 
1. A Logger with different level of message logging, according to the environment (dev,test,prod)
2. Unit/ Integration tests 
3. Code coverage tools + Linter 



## other information 
Haven't worked on React. Have worked on Vue2.0 for a couple of years before transitioning into a team lead role (more backend + infrastructure focused)